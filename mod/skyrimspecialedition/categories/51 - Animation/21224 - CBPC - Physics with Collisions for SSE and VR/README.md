# CBPC - Physics with Collisions for SSE and VR
- Author: Shizof
- Game: skyrimspecialedition
- Mod Page: https://www.nexusmods.com/skyrimspecialedition/mods/21224
**[b]CHOOSE YOUR CORRECT GAME AND GAME VERSION**
  
IN THE FOMOD INSTALLER
  
  
  
Cracked version of the game is not supported!!!
  
  

IF YOU HAVE PROBLEMS OR ANY QUESTIONS
  
CHECK OUT [THE FAQ ARTICLE](https://www.nexusmods.com/skyrimspecialedition/articles/862) FIRST

  
Big thanks to polygonhell for releasing the source code of CBP, which allowed me to create this mod.
  
  
  
DESCRIPTION[/b]
  
  
This mod is based on CBP Physics by polygonhell. He released the source code with MIT license, which allowed me to continue on his work to make this mod.
  
  
This mod features Breasts, Butt, Belly bounce and Breasts, Butt, Belly, Vagina (and More) collisions with NPC or Player hands, schlongs etc. It has configuration files to make collision spheres to fit your body shape. If you use a custom body, refer to the pdf guide to modify spheres to fit your custom body shape.
  
  
**CBPC is not Pre-Calculated or Fake Physics**. It just uses spheres instead of vertices to make it's calculations. Calculations are made every frame. It's a dynamic physics simulation mod with a good balance of performance for playing purposes. Because in my opinion, a physics mod that you can't fully use in a game without murdering your fps is not a good physics mod at all.
  
  
Both SSE and VR versions of the game are supported. Make sure you select the correct one from fomod.
  
  
  
**VR Version**
  
  
This mod supports VR. VR version has Player VR Hands or Equipped Weapons to collision with female Breasts, Butt, Belly, Vagina.
  
For Belly and Vagina collisions to work, your female body should have working Belly, Pelvis and Pussy nodes.
  
  
  
**SSE Version**SSE version of the mod features Breasts, Butt, Belly, Vagina collisions with NPC or Player hands, schlongs. It is the same mod as the VR version except VR hands and weapon collisions.
  
  
  
**REQUIREMENTS**
  

  
* This mod is an SKSE Plugin, so it requires [SKSE64 or SKSEVR](http://skse.silverlock.org/)﻿
It uses skeleton information so it requires [XP32 Maximum Skeleton Special Extended](https://www.nexusmods.com/skyrimspecialedition/mods/1988)﻿ latest version. Choose Basic or Extended depending on your usage. Basic should be enough for this mod. If you choose Extended, choose XPMS(S)E Latest on the next screen. Other screens are not related to this mod. **Make sure nothing overwrites this. Bad and weird stuff happens if you overwrite this skeleton.**
  
* [FNIS](https://www.nexusmods.com/skyrimspecialedition/mods/3038)﻿ or [Nemesis](https://www.nexusmods.com/skyrimspecialedition/mods/60033) or Pandora﻿ is needed to be run after installing any animation or skeletons. This a requirement for animation mods, not CBPC.
You need a physics compatible body. This means that you need a body that have working Breast-Butt-Belly-Vagina nodes. I'll list some of them for you so you can choose. Some of these have no prebuilt bodies available and will require you to build a body using Bodyslide Studio:
  
[CBBE SE Physics body](https://www.nexusmods.com/skyrimspecialedition/mods/198)﻿ -> Requires Bodyslide build. Only has Breast-Butt nodes.
  
* [CBBE SE Special body](https://www.nexusmods.com/skyrimspecialedition/mods/198)﻿ -> Requires Bodyslide build. Only has Breast-Butt-Vagina nodes.
[UNP](https://www.nexusmods.com/skyrimspecialedition/mods/1699)﻿ or [UNPB](https://www.nexusmods.com/skyrimspecialedition/mods/9703)﻿ -> Has prebuilt bodies and prebuilt armors and clothes. Has Breast-Butt-Belly nodes.
  
* [CBBE 3BBB](https://www.nexusmods.com/skyrimspecialedition/mods/30174)﻿ or [BHUNP](https://www.nexusmods.com/skyrimspecialedition/mods/31126)﻿ -> Requires Bodyslide build. Has Breast, Belly, Butt, Thigh, Calf, Vagina nodes.
Oldrim CosioHD (Uses CBBE Textures)-> Requires Bodyslide build. Has Breast-Butt-Belly-Vagina nodes. 
  
* Oldrim CBBE Special Body -> Requires Bodyslide build. Has Breast-Butt-Belly-Vagina nodes.
Oldrim UUNP(Unified UNP) body-> Requires Bodyslide build. Has Breast-Butt-Belly-Vagina nodes.
  

  
  
For those of you asking, no, vanilla bodies and armors cannot support physics. They don't have the required nodes. So you need one of the bodies I listed, or ﻿any other body that has the required bones.
  
  

  
* Schlongs of Skyrim SE or VR version for using Penis as a collider.
If you are using a 1-breast bone body, you can use one of the 10 bounce config options that are in the fomod installer, or you can use [Sinful CBP](https://www.nexusmods.com/skyrimspecialedition/mods/24313)﻿, [Immersive CBP Config](https://www.nexusmods.com/skyrimspecialedition/mods/16380)﻿, [CBP Physics Config](https://www.nexusmods.com/skyrimspecialedition/mods/16486)﻿, or any other CBPConfig.txt file with this mod. They are compatible. I suggest using a more jiggly config instead of a firm one. More fun for collisions.
  
* If you use a 3-breast bone body like CBBE 3BA/BHUNP/UBE, they have different options in the fomod installer for you to choose. You can also use the Bounce Config installer here in Optional Files. Also here's a realistic config shared by avidichard for 3BA body: [3BA RFBBT](https://www.nexusmods.com/skyrimspecialedition/mods/59123)
Here's another new Realistic config that I recommend for 3BA or BHUNP: [Petite to Plenty - A CBPC Config for Realistic Collisions and Physics](https://www.nexusmods.com/skyrimspecialedition/mods/82745)﻿
  

  
Any body or armor that requires or says it would work with CBP or HDT would work with CBPC(For BBB collisions and bounce).
  
  
  
If you want equipment physics, here's a mod made by Acro748: [CBPC Equipment Physics](https://www.nexusmods.com/skyrimspecialedition/mods/58990). If you are using CBPC only for equipment physics, you don't need a body mod.
  
  
  
If you are using PLANCK in Skyrim VR and can't get your hands inside Pelvis area, that is caused by skeleton collisions. You can use [this mod](https://www.nexusmods.com/skyrimspecialedition/mods/72482/) to fix that issue.
  
  
  
For collision configs made to fit bodies perfectly, check out new [CBPC Collision Config Collection](https://www.nexusmods.com/skyrimspecialedition/mods/127626) by jerok47. If you use OBody NG, check out [OBody HotSwap - CBPC presets for OBody](https://www.nexusmods.com/skyrimspecialedition/mods/127986).
  
  
  
  
**INSTALLATION**
  
**This mod overwrites CBP because it has the same dll name. You don't need CBP, this mod replaces it.**
  
  
This mod comes with a FOMOD installer. Install with a Mod Manager.
  
  
If you change the name of the dll for some reason, make sure you delete the old one before updating the mod, or you'll have crashes because of two of the same mod clashing.
  
  
  
**FAQ regarding file options and conflicts:**
  
  
> Do I need your CBPC main file ("CBPC - Fomod installer - MAIN FILE")

- Yes.
  
  
> ... plus the optional 3 bone file with the long name ("CBPC 3-Bone Breast Body Breast-Butt Bounce Configs for 3BA-BHUNP-COCO")

- Only if you don't like the Breast or Butt bounce you get from the configs that come with 3BA-BHUNP-COCO etc. installations.
  
  
> I get conflicts during installation. Do I overwrite the files from main with the files from the optional file? What about 3BA-BHUNP-COCO?

- Regarding conflicts, Optional file here(if you choose to install it) should overwrite Main file here and files that come with 3BA-BHUNP-COCO.
  
  
3BA-BHUNP-COCO should overwrite Main file here.
  
  
  
  
**[color=#6fa8dc]FAQ AND TROUBLESHOOTING**[/color]
  
  
**How do I disable belly getting enlarged during sex scenes?**
  
  
**That's a feature called belly bulge and it's unrelated to belly physics. You can disable it by setting BellyBulge = 0 in CBPCollisionConfig.txt and CBPCollisionConfig\_Female.txt files (All files that start with CBPCollisionConfig\*\*\*) in SKSE\Plugins folder.**
  
  
  
  
Refer to the [FAQ Article](https://www.nexusmods.com/skyrimspecialedition/articles/862) for the rest.
  
  
  
  
**CUSTOM PRESETS AND SHARING**
  
  
**I encourage everyone to make and share their custom config files with their mods, or as separate mods. Share and spread the love.**
  
  
  
  
**CONFIGURATION**
  
  
This mod has 5 types of config files (4 for SSE version).
  
  
**CBPCSystem.ini** is for defining performance related settings. Logging is also in this file in the latest version. 
  
SkipFrames, GridSize, ActorDistance (Actor collision processing distance), ActorBounceDistance (Actor bounce processing distance), ActorAngle (Actor processing angle), In and out of CombatActorCount settings are in this file.
  
  
FpsCorrection parameter is for enabling FPS correction mode for motions. Makes the bounce movement amount independent of fps, but can appear choppy on very low fps. Disabling it would make it smooth even on low fps, but the bounce amount would change with framerate. In my experience it works great between 30-144 fps. So if your fps is at or above 30, I recommend it. But if you don't like it and want the motions to be smooth, you can of course leave it disabled.
  
  
Experimental UseParallelProcessing parameter is removed in the latest version (1.5.0), because it's now enabled and it's not optional. Enjoy the 25%-50% performance increase!
  
  
Haptic feedback for VR users are also in this file. Settings should work for most controllers, but if it doesn't for you, you can increase them. A Quest 2 user reported that HapticFrequency=120 and HapticStrength=5 worked for them. Find the best values for you. 
  
  
**CBPCMasterConfig.txt** is for setting the general parameters for the mod. You can define other nodes to make them bouncy in [ConfigMap] now.
  
Note that every affected node must be added under [ConfigMap] in CBPCMasterConfig.txt to work. You can also create multiple CBPCMasterConfig\*\*\*.txt files to define more [ConfigMap] lines.
  
  
Using TuningMode=x variable in CBPCMasterConfig.txt you can reload CBPCollisionConfig\*\*\*\*.txt files every (x\*120frames)
  
Note that for backward compatibility, CBPConfig\*\*\*\*.txt files are still loaded using Tuning.rate parameter in one of the CBPConfig\*\*\*.txt files.
  
  
NoJitterFixNodes setting is for defining node names to be ignored for jitter fix.
  
Setting has NPC Genitals01[Gen01], NPC Genitals02[Gen02], NPC Genitals03[Gen03], NPC Genitals04[Gen04], NPC Genitals05[Gen05], NPC Genitals06[Gen06], GenitalsLag01, GenitalsLag02, GenitalsLag03, GenitalsLag04, GenitalsLag05, GenitalsLag06, GenitalsScrotumLag by default. 
  
  
You can also define more in CBPCMasterConfig\*\*\*\* files as well now:
  
  
*[Settings]
  
NoJitterFixNodes = #More nodes here
  
  
[ConfigMap]
  
...*
  
NoJitterFixNodes setting in CBPCMasterConfig\*\*\*\* files won't overwrite the original, only add.
  
  
As of version 1.4.0, node definitions support conditions:
  
  
Syntax --> NodeName = BounceConfigAlias = Conditions
  
  
Condition functions supported: IsRaceFormId(espname|000000), IsRaceName(string), ActorName(string), ActorFormId(espname|000000), IsInFaction(espname|000000), IsPlayerTeammate(), IsFemale(), IsMale(), IsPlayer(), HasKeywordId(espname|000000), HasKeywordName(string), RaceHasKeywordId(espname|000000), RaceHasKeywordName(string), IsActorBase(espname|000000), IsUnique(), IsVoiceType(espname|000000), IsCombatStyle(espname|000000), IsClass(espname|000000)
  
  
For formids, you can either use with espname: (espname|000000) or for Skyrim.esm, without the esp name: (00000000)
  
You can use multiple functions with AND and OR logical operations. They are splitted with AND first and then OR like CK syntax
  
[size=2]
  
So:
  
A AND B OR C means=> A AND (B OR C)
  
A AND B OR C AND D means=> A AND (B OR C) AND D
  
A OR B AND C OR D OR E means=> (A OR B) AND (C OR D OR E)
  
[/size]
  
You can prefix the functions with the word NOT for negative conditions like NOT IsFemale()
  
  
**Make sure you define appropriate conditions in CBPCMasterConfig file for the nodes you add so that there is no unnecessary calculations for actors that don't need any bounce/collisions for those nodes.**
  
  
Examples:
  
IsFemale() AND IsRaceName(Khajit)
  
IsFemale() AND IsRaceFormId(13745)
  
IsFemale() AND IsRaceFormId(13745) OR IsRaceFormId(13740)
  
  
  
As of version 1.5.0, you can group nodes under [ConfigMap] with "<" and ">" to ensure they are processed sequentially and not at the same time. This is added for chain nodes like 3BB breasts. Usage:
  
  
A node
  
B node
  
<
  
C node
  
D node
  
>
  
<
  
E node
  
F node
  
>
  
  
This way, C and D nodes and E and F nodes won't be processed at the same time.
  
  
  
**CBPConfig.txt** is for configuring bouncy physics. It's similar to CBP version, but there are many new additional parameters to use. You can use [Sinful CBP](https://www.nexusmods.com/skyrimspecialedition/mods/24313)﻿, [Immersive CBP Config](https://www.nexusmods.com/skyrimspecialedition/mods/16380)﻿, [CBP Physics Config](https://www.nexusmods.com/skyrimspecialedition/mods/16486) or any other config file intended to work with CBP if you are using a body that has one breast node.
  
  
As of version 1.1.0, You can now separate CBPConfig.txt to multiple files. As long as they start with CBPConfig. Like this: "CBPConfig\*\*\*\*\*.txt".
  
  
As of version 1.4.0, it supports 0 weight bounce settings as well for interpolation. Example:
  
  
Breast.stiffness 0.05   #This is the syntax for only defining 100 weight bounce setting.
  
Breast.stiffness 0.05 0.08  #This is the syntax for defining both 100 (first one) and 0 (second one) weight bounce settings.
  
  
If only the first one is defined, 100 weight is also used for 0 weight. The two values are used to interpolate the value to be used for the actor based on actor's weight. You can use this to get less bounce on flat chested actors for example.
  
  
As of version 1.4.0, it supports conditions:
  
You just need to have Cond itions = ... line at the top. Make sure you have other config files to cover all the settings for your nodes that doesn't have Conditions, so that those are used by other actors.
  
  
**Conditioned bounce config is meant for a specific group of actors that you know would need a different config. So, you don't need to put IsFemale() condition to your bounce config, you just add that for nodes in CBPCMasterConfig. There is no mixing between conditioned bounce configs and normal bounce configs. Conditional ones stand alone (single file each).**
  
  
Condition functions supported: IsRaceFormId(espname|000000), IsRaceName(string), ActorName(string), ActorFormId(espname|000000), IsInFaction(espname|000000), IsPlayerTeammate(), IsFemale(), IsMale(), IsPlayer(), HasKeywordId(espname|000000), HasKeywordName(string), RaceHasKeywordId(espname|000000), RaceHasKeywordName(string), IsActorBase(espname|000000), IsUnique(), IsVoiceType(espname|000000), IsCombatStyle(espname|000000), IsClass(espname|000000)
  
  
For formids, you can either use with espname: (espname|000000) or for Skyrim.esm, without the esp name: (00000000)
  
You can use multiple functions with AND and OR logical operations. They are splitted with AND first and then OR like CK syntax
  
  
So:
  
A AND B OR C means=> A AND (B OR C)
  
A AND B OR C AND D means=> A AND (B OR C) AND D
  
A OR B AND C OR D OR E means=> (A OR B) AND (C OR D OR E)
  
  
You can prefix the functions with the word NOT for negative conditions like NOT IsFemale()
  
  
Examples:
  
IsFemale() AND IsRaceName(Khajit)
  
IsFemale() AND IsRaceFormId(13745)
  
IsFemale() AND IsRaceFormId(13745) OR IsRaceFormId(13740)
  
  
  
Add it like this at the top of the file (remove the spaces between conditions word, nexus doesn't like that word):
  
  

```
C o n d i t i o n s = IsFemale() AND IsRaceFormId(13745) OR IsRaceFormId(13740)
  
Priority = 100
```

  
  
Priority setting can be used for sorting conditioned configs. Higher priorities would mean they would be checked first. So for example, conditioned configs for specific actors should have high priority values, while configs for all actors for a specific sex should be lower. By default, if no priority parameter added, 50 is used. So set it between 0 and 100.
  
  
As of version 1.5.0, some settings are checked to see if they are set or not (to prevent misconfigured condition files), and if none of these are set, that conditional config file is ignored:
  
non-zero: stiffness, stiffness2, damping
  
non 100: collisionX/Y/Zmaxoffset
  
non -100: collisionX/Y/Zminoffset
  
So if you are trying to make an empty conditional bounce config file to prevent some npcs to have any bounce, you can just include at least one of these with proper values so that those npcs are ignored.
  
  
  
**Here is a guide made by avidichard to explain bounce config parameters: [3BA Bounce Config Guide](https://www.nexusmods.com/skyrimspecialedition/articles/3620). It's made for CBBE 3BA mod, but parameter explanations are the same for 1-breast bone bodies as well.**
  
  
**To modify bounce configs, open cbpconfig\*\*\*.txt file, set tuning.rate parameter to 60 and open the game to change the values while the game is running to see the changes immediately. And then when you are satisfied, set tuning.rate back to 0 for normal play and save it.**
  
  
**CBPConfig.txt configuration instructions from polygonhell:**Spoiler
  
> Configuring the bounce
>   
> The default settings are very Jelly like, largely because it makes it easier for me to see what's not working, but the overall look can be changed significantly.
>   
> Edit Data/SKSE/Plugins/CBPConfig.txt
>   
> change the Tuning.rate setting to something other than 0
>   
>   
> Tuning.rate 60
>   
>   
> This dictates how often the configuration is reread from the file, 60 is about 1s.
>   
> Start the game, edit the parameters in the file and save, you should see the changes within a second or two.
>   
> Once yous happy, change Tuning.rate to 0 and it will stop reloading the configuration.
>   
> You must set the tuning rate to something other than 0 before you run Skyrim if you intend to tune the physics.
>   
>   
> As of 0.02 Tuning is disabled by default

  
**You should never have tuning.rate enabled during normal play. You should only enable it while making changes to your bounce settings. After that, tuning.rate should be turned off. Your changes will of course work.**
  
  
**List of bounce settings:**Spoiler
  
.stiffness  # Linear spring stiffness
  
.stiffnessX
  
.stiffnessY
  
.stiffnessZ
  
.stiffnessXRot
  
.stiffnessYRot
  
.stiffnessZRot
  
  
.stiffness2 # Quadratic Spring stiffness
  
.stiffness2X
  
.stiffness2Y
  
.stiffness2Z
  
.stiffness2XRot
  
.stiffness2YRot
  
.stiffness2ZRot
  
  
.damping    # Velocity removed/tick 1.0 would be all velocity removed
  
.dampingX
  
.dampingY
  
.dampingZ
  
.dampingXRot
  
.dampingYRot
  
.dampingZRot
  
  
.Xmaxoffset  # Maximum number of units position can diverge from target in X axis (limit of move to right by physics / recommended to use positive number)
  
.Ymaxoffset  # Maximum number of units position can diverge from target in Y axis
  
.Zmaxoffset  # Maximum number of units position can diverge from target in Z axis
  
.Xminoffset  # Minimum number of units position can diverge from target in X axis (limit of move to left by physics / recommended to use negative number)
  
.Yminoffset  # Minimum number of units position can diverge from target in Y axis
  
.Zminoffset  # Minimum number of units position can diverge from target in Z axis
  
.XmaxoffsetRot  # Maximum number of units position can diverge from target in X axis with rotation
  
.YmaxoffsetRot  # Maximum number of units position can diverge from target in Y axis with rotation
  
.ZmaxoffsetRot  # Maximum number of units position can diverge from target in Z axis with rotation
  
.XminoffsetRot  # Minimum number of units position can diverge from target in X axis with rotation
  
.YminoffsetRot  # Minimum number of units position can diverge from target in Y axis with rotation
  
.ZminoffsetRot  # Minimum number of units position can diverge from target in Z axis with rotation
  
  
.timetick   # Time Quanta for the physics in ms 4 means that a 16ms frame would be broken down into 4x4ms steps
  
.timetickRot   # Time Quanta for rotation physics in ms 4 means that a 16ms frame would be broken down into 4x4ms steps
  
  
.linearX / .linearY / .linearZ  # Scale of the motion in X/Y/Z - Side, Front&Back, Up&Down
  
  
.linearX/Y/ZspreadforceX/Y/Z # Allows the force of dissipated my min/max offsets to be spread in different directions
  
  
.rotationalX # Scale of the bones rotation around the X axis (was .rotational before)
  
.rotationalY # Scale of the bones rotation around the Y axis
  
.rotationalZ # Scale of the bones rotation around the Z axis
  
  
.linearX/Y/ZrotationX/Y/Z # Deliver the linear force to the wanted rotation
  
  
.timeStep
  
.timeStepRot
  
  
.collisionFriction # Physics deceleration by friction in collision
  
.collisionPenetration # Down the sensitivity of collisions / It affects the actual colliding range
  
.collisionMultipler # Push strength by collisions / It's not affects the actual colliding range
  
.collisionMultiplerRot # Rotation strength by collisions
  
.collisionElastic # Add bounce by collisions, also fixes any jitters caused by collision friction. Make sure this is enabled if you are using any other value than 1.0 for collisionFriction.
  
collisionElasticConstraints  #Default is 1. When set to 0, it disables the feature that ignores max/min offset to prevent jitters.
  
.collisionX/Y/ZmaxOffset # Limit the maximum extent to which pushed by collisions
  
.collisionX/Y/ZminOffset # Limit the minimum extent to which pushed by collisions
  
  
.gravityBias  # Downwards gravity force on node
  
.gravityCorrection # Gravity force without acceleration
  
.gravityInvertedCorrection       # Gravity correction when the player is upside down (ex: fixes magically floating breasts)
  
.gravityInvertedCorrectionStart  # At which point the inverted gravity will start to affect gravity (0.25 to ignore small angles when walking/running for example)
  
.gravityInvertedCorrectionEnd    # At which point the inverted gravity will stop to affect gravity more
  
.cogOffset
  
  
#Breast only:
  
.breastClothedPushup
  
.breastLightArmoredPushup
  
.breastHeavyArmoredPushup
  
.breastClothedAmplitude
  
.breastLightArmoredAmplitude
  
.breastHeavyArmoredAmplitude
  
  
# The above parameters effect the physics by the material of the armour
  
# The below keywords are for extra managing those parameters
  
# It works with the keyword name, so just create a new keyword then define the name correctly and attach it to the record
  
CBPCAsNakedL -> regard the left breast as naked
  
CBPCAsNakedR -> regard the right breast as naked
  
CBPCAsClothingL -> regard the left breast as clothing
  
CBPCAsClothingR -> regard the right breast as clothing
  
CBPCAsLightL -> regard the left breast as light armor
  
CBPCAsLightR -> regard the right breast as light armor
  
CBPCAsHeavyL -> regard the left breast as heavy armor
  
CBPCAsHeavyR -> regard the right breast as heavy armor
  
CBPCNoPushUpL -> remove the pushup effect on the left breast
  
CBPCNoPushUpR -> remove the pushup effect on the right breast
  
  
  
  
  
  
  
**CBPCollisionConfig.txt** is for configuring collision spheres for affected nodes and collider nodes.
  
Fomod installer comes with many ready to use collision config files. Pick one closest to your body shape. Refer to the pictured pdf guide to make/modify it for your own presets.
  
  
CBPCollisionConfig\*\*\*\*.txt files are for creating custom collision config files for specific npcs or player using conditions:
  
[Options]
  
Cond itions=ActorName(Yuriana)
  
(Ignore the space between Cond and itions)
  
  
Condition functions supported: IsRaceFormId(espname|000000), IsRaceName(string), ActorName(string), ActorFormId(espname|000000), IsInFaction(espname|000000), IsPlayerTeammate(), IsFemale(), IsMale(), IsPlayer(), HasKeywordId(espname|000000), HasKeywordName(string), RaceHasKeywordId(espname|000000), RaceHasKeywordName(string), IsActorBase(espname|000000), IsUnique(), IsVoiceType(espname|000000), IsCombatStyle(espname|000000), IsClass(espname|000000)
  
  
For formids, you can either use with espname: (espname|000000) or for Skyrim.esm, without the esp name: (00000000)
  
You can use multiple functions with AND and OR logical operations. They are splitted with AND first and then OR like CK syntax
  
  
So:
  
A AND B OR C means=> A AND (B OR C)
  
A AND B OR C AND D means=> A AND (B OR C) AND D
  
A OR B AND C OR D OR E means=> (A OR B) AND (C OR D OR E)
  
  
You can prefix the functions with the word NOT for negative conditions like NOT IsFemale()
  
  
Examples:
  
IsFemale() AND IsRaceName(Khajit)
  
IsFemale() AND IsRaceFormId(13745)
  
IsFemale() AND IsRaceFormId(13745) OR IsRaceFormId(13740)
  
  
Priority setting can be used for sorting conditioned configs. Higher priorities would mean they would be checked first. So for example, conditioned configs for specific actors should have high priority values, while configs for all actors for a specific sex should be lower. By default, if no priority parameter added, 50 is used. So set it between 0 and 100.
  
  
For vagina collisions, "NPC Pelvis [Pelv]" node listed under [ConfigMap] in one of the CBPCMasterConfig\*\*\* files. It is used to attach collision spheres, but the actual collision effect is made by moving "NPC L Pussy02" and "NPC R Pussy02" nodes. If your body doesn't have these three nodes, you won't get vagina collisions.
  
  
To have Anal Collisions:
  
You need "Anal" listed under [ConfigMap] in one of the CBPCMasterConfig\*\*\* files. Also "Anal" listed under [AffectedNodes] in CBPCollisionConfig\*\*\* files. And its spheres defined below in that file like [Anal] etc.
  
After that, just edit AnusOpeningMultiplier and AnusOpeningLimit values just like vagina settings.
  
  
**CBPCollisionConfig.txt configuration instructions:**Spoiler
  
Belly bulge feature adds a bulge effect on female belly on penetration. It requires pelvis and belly nodes to work(no vagina node needed). You can disable belly bulge by setting BellyBulge=0 under [ExtraOptions] in CBPCollisionConfig files.
  
The included settings should work for most, but if you want you can change the settings to your desire. The instructions are added inside the config file as comments.
  
  
There are commented instructions in the config files for settings.
  
  
For collision spheres, the format is x,y,z coordinated vectors relative to the node and radius separated by a pipe "|" character for 0 and 100 weight body shapes. If you don't provide weight 100 values, 0 values are used for it.
  
  
x0,y0,z0,radius0 | x100,y100,z100,radius100
  
  
Every line is for 1 sphere. You can add multiple spheres to each node if you want. 
  
  
As of version 1.5.0, you can now define capsule colliders as well:
  
  
End1Point X0, Y0, Z0, R0 & End2Point X0, Y0, Z0, R0  |  End1Point X100, Y100, Z100, R100 & End2Point X100, Y100, Z100, R100
  
  
0, 0, 0, 1.75 & 0, 7.5, 0, 1.5 | 0, 0, 0, 1.75 & 0, 7.5, 0, 1.5
  
  
  
Affected node spheres are collided by Collider node spheres (and Player Wand Nodes in VR version)
  
  
**You can define exclusions for Affected nodes like this:**
  
You can define excluded colliders in paranthesis: NodeName (ColliderName1, ColliderName2)
  
@ means all self nodes: NodeName (@)
  
@ in front of a node name means self node: NodeName (@ColliderName)
  
NodeName (@ColliderName1, ColliderName2) meaning self ColliderName1 and all ColliderName2 are excluded.
  
NodeName (@, ColliderName1) meaning self nodes and all ColliderName1 are excluded.
  
  
[AffectedNodes]
  
NPC R Breast (@NPC L Hand [LHnd])  #exclude self left hand node to be used as a collider
  
NPC L Breast (NPC L Hand [LHnd], NPC R Hand [RHnd]) #exclude all left and right hand nodes to be used as a collider
  
NPC L Butt (@)  #exclude all self skeleton Collider nodes to be used as a collider
  
NPC R Butt  #No Collider node exclusion
  
  
  
**!!!!!!! I added a pictured PDF guide to walk you through the simple process of finding your collision config values to the Download section: CBPC Collision Config Editing Guide PDF !!!!!!!
  
  
You opened nifskope but you don't see the textures on the body? Here's how to see them:**
  
In nifskope 2.0
  
Options/Settings menu -> Resources tab
  
in Archives tab you need to add Skyrim - Textures0.bsa to 8.bsa there from your skyrim se data dir. This will load vanilla textures.
  
  
For mods, you need to add your paths in Paths tab. For mod organizer for example it's ModOrganizer 2/mods/Body Textures etc.   Like this but for all the mods you want to see in nifskope. You can move them up and down to change the load order so they'll overwrite
  
each other.
  
A basic guide for those that don't want to read pdf and want challenge for some reason:
  

  
* Open CBPCollisionConfig.txt file. You are going to modify lines under [NPC L Breast], [NPC R Breast], [NPC L Butt], [NPC R Butt] only.
Open your femalebody\_0.nif and femalebody\_1.nif files you want to modify a config file for with [Nifskope](https://github.com/niftools/nifskope/releases)﻿. 
  
* This is only for your eyes, you are not going to save the nif file.
In Nifskope, find the NiNode named NPC L Breast. Right click, and select Node/Attach node, in the opened menu, select NiNode. Do the same on the new NiNode you created so you have nested NiNodes. 
  
* You'll use this NiNodes to virtually imagine a sphere on the node NPC L Breast. Remember we had x0,y0,z0,radius0 | x100,y100,z100,radius100 values.
x0,y0,z0 values are relative to the node attached. So while the first NiNode you created is selected modify the Translation line below to get a point in the center of the Breast. When you have that, Enter those values to the respected x0,y0,z0 in the text file(for femalebody\_0.nif), and x100,y100,z100(femalebody\_1.nif).
  
* To find radius0 and radius100, use the second NiNode you created and only change y value of Translation to find the appropriate radius for the sphere. And when you find those values, enter them to the text file.
NPC R Breast would have similar values, so copy paste them from NPC L Breast. Only change the sign of x0 and x100 because they are on the opposite sides of the coordinate system.
  
* Do the same for Butt spheres.
  
**CBPWeaponCollisionConfig.txt** is for configuring collision triangles for equipped weapons (VR only).
  
  
**CBPWeaponCollisionConfig.txt configuration instructions:**
  
Spoiler
  
This file is for defining Triangles for weapon collision for the player. When player equips a weapon, in addition to the wand node sphere, appropriate collision triangles are used to collide with Affected Nodes.
  
  
You can find Collision info already defined in there for Weapon types. You can also define specific weapon colliders by using their in-game name, like:
  
  
[Iron Sword]
  
0,63,0|-3,4,0|3,4,0
  
  
If a weapon doesn't have a specific name defined configuration in this file, it'll use the collision configuration defined for its type.
  
  
One point is defined by x,y,z coordinates. Triangle info consists of three points written like:
  
x1,y1,z1 | x2,y2,z2 | x3,y3,z3
  
  
  
  
**PAPYRUS FUNCTIONS**
  
  
This mod includes 5 papyrus functions as an extension that can be called from other mods:
  
  
***String GetVersion()
  
String GetVersionMinor()
  
String GetVersionBeta()***These functions can be used to get the current version of the mod installed. For example, for version 1.4.15, these functions would return "1", "4", and "15".
  
  
You can call them like this:
  
*CBPCPluginScript.[i]GetVersion*()
  
CBPCPluginScript.*GetVersionMinor*()*CBPCPluginScript.[i][i]GetVersionBeta*[/i]()
  
  
  
[/i][/i]***ReloadConfig()***
  
Reloads master, bounce config, collision config files.
  
  
***StartPhysics(Actor npc, String nodeName)
  
StopPhysics(Actor npc, String nodeName)***
  
These functions can be used to stop or start physics processing on certain nodes on an actor. This should allow mix and match with other physics mods or for stopping specific features on certain times etc.
  
  
You can call them like this:
  
*CBPCPluginScript.StartPhysics(actor, "NPC L Breast")*
  
*CBPCPluginScript.StopPhysics(actor, "NPC L Breast")*
  
***bool AttachColliderSphere (Actor npc, String nodeName, float[] position, float radius, float scaleWeight, int index, bool isAffectedNode = false)** 
  
**bool AttachColliderCapsule (Actor npc, String nodeName, float[] end1\_position, float end1\_radius, float[] end2\_position, float end2\_radius, float scaleWeight, int index, bool isAffectedNode = false)***
  
;npc : target actor
  
;nodeName : target Node
  
;position : collider position
  
;radius : collider radius
  
;scaleWeight : Weight for the effect of node scaling
  
;index : index number of collider / -1 means a collider attached by a CBPCollisionConfig\*.txt files
  
;isAffectedNode : if false, edit to Collider Nodes / if true, edit to Affected Nodes
  
  
  
***bool DetachCollider (Actor npc, String nodeName, int type, int index,  bool isAffectedNode = false)***
  
;type 0 = sphere / type 1 = capsule
  
;if index is -1, The collider attached by CBPCollisionConfig\*.txt files will detach
  
  
  
**ApplyCollisionInterpolation(Actor npc, String uniqueName, int percentage)**
  
;percentage between 0-100
  
- This function is used to apply a specific percentage of the collision interpolation from CBPCCollisioninterpolationconfig\_\*\*\*\*.txt files. The uniquename is defined inside that file under [Settings]. Check the example CBPCCollisioninterpolationconfig\_Test.txt file included with the mod. Note that the collisions need to be refreshed for the actor for them to be truly applied.
  
  
**ApplyBounceInterpolation(Actor npc, String uniqueName, int percentage)**
  
;percentage between 0-100
  
- This function is used to apply a specific percentage of the bounce interpolation from CBPCBounceinterpolationconfig\_\*\*\*\*.txt files. The uniquename is defined inside that file under [Settings]. Check the example CBPCBounceinterpolationconfig\_Test.txt file included with the mod. Note that the bounce need tobe refreshed for the actor for them to be truly applied.
  
  
**RefreshActorBounceSettings(Actor npc)**
  
- This function refreshes bounce settings for the actor after any change (including bounce interpolation).
  
  
**RefreshActorCollisionSettings(Actor npc)**
  
- This function refreshes collision settings for the actor after any change (including collision interpolation).
  
  
  
**EVENT SYSTEM**
  
  
This mod has an event system for papyrus. You can register and get Player collision events with Actor, node name, touch duration information.
  
Register for player collision events with "CBPCPlayerCollisionWithFemaleEvent" and "CBPCPlayerCollisionWithMaleEvent" names.
  
  
You can use CBPCPlayerCollisionEventConfig.txt file to adjust event send duration and checked player nodes.
  
  
You can check out the sample mod under Misc files which just prints actor name and node on screen.
  
Also check out [CBPC VR Action - Reaction](https://www.nexusmods.com/skyrimspecialedition/mods/68578) mod by Ziher that uses this.
  
  
Added in version 1.5.9: "CBPCPlayerGenitalCollisionWithFemaleEvent" and "CBPCPlayerGenitalCollisionWithMaleEvent" events which work just like player touch events, but they generate events if collisions with Player nodes with "Genital" in their names are detected.
  
  
  
**CONSOLE COMMANDS**
  
  
"cbpc reload" console command can be used to reload bounce and collision and master config files manually.
  
"cbpc sysreload" console command can be used to reload system ini file manually.
  
"cbpc pause" and "cbpc start" console commands can be used to pause and unpause the mod.
  
  
  
  
**COMPATIBILITY**
  
  
I can't believe I'm writing this after I said it in Installation section already, but some people have a hard time understanding it: This mod overwrites CBP. Meaning the files can't be loaded at the same time together unless you change their names which you should never do.
  
  
It's compatible with Racemenu. But may not be compatible with Racemenu morphs, because morphs change locations of the nodes that are used for
  
collision calculations. It's not a hard incompatibility, only that collisions may be affected.
  
  
  
It's not compatible with Realistic Ragdolls and Force because Realistic Ragdolls and Force is not compatible with XP32 skeleton(changes it). XP32 skeleton already includes that mod(not all but some features) so you don't need it. You'll get problems like bad skeleton issues(stretching body parts etc) when you ran it together with this mod. Because this mod needs XP32 skeleton period, and RRF overwrites XP32.
  
  
It's not compatible with Dragonfly bbp. Uninstall it. That's an ancient way to get animated boobs anyway.
  
  
A user found that it's not compatible with [Player Size Adjuster and First Person Camera Height Fix SSE](https://www.nexusmods.com/skyrimspecialedition/mods/14515)﻿ it causes issues like "eyes and mouth seen from the back when changing camera perspective from 1st person to 3rd person with mouse wheel". It's probably because that mod changes skeleton by scaling it.
  
  
As mentioned above, you have to use a body that has physics nodes.
  
  
[VRIK Inverse Kinematics](https://www.nexusmods.com/skyrimspecialedition/mods/23416) is supported in the VR version, that means you can collide with your own body if you are female, and also your body would have bounce physics.
  
  
[Werewolf Body for VR](https://www.nexusmods.com/skyrimspecialedition/mods/56394) and [Vampire Body for VR](https://www.nexusmods.com/skyrimspecialedition/mods/57318) mods are supported. Just make sure you don't have
  
  

```
[ColliderNodes]
  
...
  
NPC L Thigh [LThg]
  
NPC R Thigh [RThg]
  
NPC L Calf [LClf]
  
NPC R Calf [RClf]
  
NPC L Foot [Lft ]
  
NPC R Foot [Rft ]
  
...
```

  
lines under [ColliderNodes] in CBPCollisionConfig\*\*\*.txt files. Accessing these nodes are not supported by VRIK and can cause issues.
  
  
  
  
  
**FUTURE**
  
I'm not giving any times for these but here's the stuff I plan to implement in the later versions:
  
  

  
* Support for chained nodes to support wigs, hair, cloaks, cloth, jewelry

  
  
  
**CREDITS**
  
This mod is made possible by polygonhell releasing the source code of CBP under MIT License. Big thanks to him!
  
  
Thanks to Artumino, Bakou, Odie for their helps.
  
  
Thanks to Aerowynx, Rallyeator, Metalsaber, Acro748 for testing.
  
  
  
  
**A FEW THINGS ABOUT OPEN SOURCE:**
  
This mod is made possible by another author open sourcing their code. When I checked it, I realized it included a code segment that would change a lot of mods to better, because now we have a way(Unless you knew already) to access other actors around the player without attaching scripts to them.
  
  
Dynamically attaching scripts to actors around the player was the only way to access other actors around the player, until now. If you download the source, check scan.cpp in updateActors() function there is a for loop that accesses cell->refData.refArray this holds the references in the cell. From there you can do anything with them. 
  
  
This opens the door to many amazing things.
  
  
To the mod authors: After you make your mod, please share your source code. This kind of thing helps the whole modding community. You gain nothing by hiding your code. Don't assume nothing can be added anymore, don't assume if you can't do it nobody can. We make this community together by helping others. Community is not built by restrictions, it's built by sharing.
  
  
Because of this, all my mods are open source (you can find the sources in the files tab). You can check the permissions tab of each mod for details of permissions.
  
  
You can find separate sources of this mod for pre-AE, post-AE and VR versions of the game in the downloads section.
  
  

![](https://i.imgur.com/m8Kiie8.png)

  
  
  

[![](https://i.imgur.com/8cyUndu.png)](https://www.buymeacoffee.com/shizof)