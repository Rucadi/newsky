# Helmet Toggle 2
- Author: GiraPomba
- Game: skyrimspecialedition
- Mod Page: https://www.nexusmods.com/skyrimspecialedition/mods/100617


**[font=Georgia][size=6]

INTRODUCTION**[/font][/size]This is an improved version of my [previous](https://www.nexusmods.com/skyrimspecialedition/mods/81758) mod, with a MCM with more options to choose from and an "automatic" way of handling helmet equip/unequip animations. This means that it should work straight out of the box and will require less tweakings from the user's side.
  
  
**[font=Georgia][size=6]

REQUIREMENTS**[/font]- [Open Animation Replacer](https://www.nexusmods.com/skyrimspecialedition/mods/92109): Hard requirement, used to play the animations.
  
- [Offset Movement Animation - Nemesis - Modders Resource](https://www.nexusmods.com/skyrimspecialedition/mods/110408): Hard requirement, used to play the animations.
  
- [Dynamic Armor Variants (DAV)](https://www.nexusmods.com/skyrimspecialedition/mods/65963): Hard requirement, used to hide or show helmets/hoods.
  
- [Dynamic Lowered Hoods](https://www.nexusmods.com/skyrimspecialedition/mods/65964)﻿: For some vanilla lowered hood models.
  
- [powerofthree's Papyrus Extender](https://www.nexusmods.com/skyrimspecialedition/mods/22854): Hard requirement, used for some core functions.
  
- [SkyUI](https://www.nexusmods.com/skyrimspecialedition/mods/12604): For the MCM.
  
Optional:
  
- [Immersive Equipment Displays](https://www.nexusmods.com/skyrimspecialedition/mods/62001): Optional, used to show helmet being unequipped and displayed at the waist/hands via presets.
  
- [Keyword Item Distributor (KID)](https://www.nexusmods.com/skyrimspecialedition/mods/55728): Optional, but highly recommended. Distributes necessary keywords to headgear.
  
- [Spell Perk Item Distributor (SPID)](https://www.nexusmods.com/skyrimspecialedition/mods/36869): Optional, but highly recommended. Distributes the spells that adds animations to Followers and NPCs.
  
- [FormList Manipulator - FLM](https://www.nexusmods.com/skyrimspecialedition/mods/74037): Optional, but highly recommended. Distributes keywords to safe and unsafe locations lists, weathers to the dusty weather list and followers to the ignore followers list.
  
  
**[font=Georgia]

MAIN FEATURES

[/font]**- Headgear is not actually equipped or unequipped, just shown or hidden using DAV.
  
- This means that the enchantments and armor ratings will still apply.
  
- An animation is played when a helmet, hood, mask or hat is shown or hidden.
  
- Should only affect helmets, hoods, masks and hats.
  
- Animations work for the player and/or optionally for NPCs/Followers, via Spell(not the equipable kind) distributed by SPID.
  
  
**[font=Georgia]

INSTALLATION

[/font]**- Install DAV and its requirements for your Skyrim version.
  
  - Choose the "Hidden Equipment" optional file (for NPCs).
  
- Install [Dynamic Lowered Hoods](https://www.nexusmods.com/skyrimspecialedition/mods/65964)﻿ in order to use the lowered hoods functionality.
  
- Install optional files from Dynamic Lowered Hoods, if needed.
  
- If you still are on v1.5.97, also install [DAV for Skyrim 1.5](https://www.nexusmods.com/skyrimspecialedition/mods/88302). P.S.: MCM Helper hotkey functionality apparently doesn't work on this version, so be aware of this when installing the MCM helper optional file.
  
- Install this mod and its requirements for your Skyrim version.
  
- Make sure to place Helmet Toggle 2 after DAV and DLH in the load order.
  
- Load order should be:
  

* DynamicLoweredHoods.esp
DAV\_HiddenEquipment.esp
  
* Other DAV mods that might change the default config file.
Helmet Toggle 2.esp
  

- If using Immersive Equipment Displays, check "ADDITIONAL INFO AND CONFIG" section at the end of the description page from this mod on how to enable the displays for the helmets on hands/hip.
  
  
**[font=Georgia]

SUPPORT

[/font]**This mod supports several other mods to make your experience even more immersive.
  
**Lowered hoods:**  Apart from the lowered hoods models provided by DAV, Helmet Toggle also support the following mods:
  
- [Elmlock Armor and Blade (CBBE - HIMBO)](https://www.nexusmods.com/skyrimspecialedition/mods/105930): With its addons, [Color Variants](https://www.nexusmods.com/skyrimspecialedition/mods/107603) and [XTudo's version](https://www.nexusmods.com/skyrimspecialedition/mods/106738).
  
- [Traveler's Armor Pack](https://www.nexusmods.com/skyrimspecialedition/mods/93138).
  
- [Black Bear Ancient Nord Armor](https://www.nexusmods.com/skyrimspecialedition/mods/60040).
  
- [Mercenary Light Iron Armor](https://www.nexusmods.com/skyrimspecialedition/mods/59897).
  
- [Winter Is Coming SSE - Cloaks](https://www.nexusmods.com/skyrimspecialedition/mods/4933) and [RMB SPCH - Winter is Coming Cloaks](https://www.nexusmods.com/skyrimspecialedition/mods/116029) (credits to peljok).
  
- [Warmonger Armory](https://www.nexusmods.com/skyrimspecialedition/mods/17809).
  
- [Traveling Mage HDT-SMP Armor](https://www.nexusmods.com/skyrimspecialedition/mods/69394).
  
- [Windcaller - Mage Robes and Staff](https://www.nexusmods.com/skyrimspecialedition/mods/128033).
  
- [Nord Raven Battle Armor](https://www.nexusmods.com/skyrimspecialedition/mods/63402).
  
- [Nord Vagabond Armor](https://www.nexusmods.com/skyrimspecialedition/mods/63865).
  
- [Rogue Nord Armor](https://www.nexusmods.com/skyrimspecialedition/mods/60304).
  
- [Armors of the Velothi Pt. I](https://www.nexusmods.com/skyrimspecialedition/mods/62752).
  
- [Traveling Mage - My version SE by Xtudo](https://www.nexusmods.com/skyrimspecialedition/mods/69577).
  
- [Sentinel](https://www.nexusmods.com/skyrimspecialedition/mods/100985): One hood from Rogue Nord Armor.
  
- [Detailed NPCs - Skull Masks](https://www.nexusmods.com/skyrimspecialedition/mods/62994): Player can lower the masks.
  
- **Dragon priests masks**: Lowered hoods variants for the "hoods" from the dragon priest masks. With support for [Konahrik's Accoutrements](https://www.nexusmods.com/skyrimspecialedition/mods/22206), [Dragon Priests Retexture SE](https://www.nexusmods.com/skyrimspecialedition/mods/101101), [Dragon Priests Hood Variants](https://www.nexusmods.com/skyrimspecialedition/mods/123043), [Apophysis Dragon Priest Masks SE](https://www.nexusmods.com/skyrimspecialedition/mods/5800) and [Dovah Sonaak - Dragon Priest Masks SE](https://www.nexusmods.com/skyrimspecialedition/mods/23251).
  
  
**Raised visor:** Support (with animations) for:
  
[Gryphonknight Regalia](https://www.nexusmods.com/skyrimspecialedition/mods/107437) raised visor variant (including beast races).
  
[Lifesworn Vestiges](https://www.nexusmods.com/skyrimspecialedition/mods/136837) raised visor variant (including beast races).
  
Spoiler

![](https://i.imgur.com/Q3sW1UP.gif)

  
  
P.S.: The animation will only trigger with Open Animation Replacer and it falls under the "Helmet" category.
  
If you don't want to use the raised visor variant, then remove the "HT\_ArmorVisor" entry from the Helmet Toggle 2\_KID.ini file.
  
  
**Lowered face masks:** Support (with animations) for [Face Masks of Skyrim](https://www.nexusmods.com/skyrimspecialedition/mods/1953) with lowered models included.
  
Spoiler

![](https://i.imgur.com/qVNiP4A.gif)

  
P.S.: The animation falls under the "Mask" category.
  
  
[Helm Hair](https://www.nexusmods.com/skyrimspecialedition/mods/88388): Helm hair will correctly switch the hairs when the headgear is hidden or displayed. Similar to manually equipping or unequipping.
  
  
[Dynamic NPC Hairstyles](https://www.nexusmods.com/skyrimspecialedition/mods/161062?tab=description): Followers managed by the mod will keep their dynamic hair while their headgear is hidden.
  
Unfortunately, lowered hoods models won't work for them :(.
  
  
**[font=Georgia]

MOD PREVIEW

[/font]**
  
  
**[font=Georgia]

HOW TO GET STARTED

[/font]**While in game, open up the MCM and choose the options you want.
  
By just enabling the "manage" options, nothing will happen, you'll also need to enable one of the available options.
  
Spoiler![](https://i.imgur.com/VKaXvrg.png)
  
**[font=Georgia]

ADDITIONAL INFO AND CONFIG

[/font]****Immersive Equipment Displays**:
  
If you are using Immersive Equipment Displays (Version 1.7.3 or above), you can apply these presets to show the helmets/masks at the waist and hands during the animations.
  
For player characters or NPCs/Followers that received the animation spell via SPID:
  
Apply the preset "Helmet Toggle 2" via "View>Display Manager>View>Custom items":
  
Spoiler![](https://i.imgur.com/ApOdSJR.png)
  
Apply one of the presets "Helmet Toggle" via "View>Variables", to add support for some CC helmets and Dragon Priests Hood Variants:
  
Spoiler![](https://i.imgur.com/KWcJIx5.png)
  
If you want a preset for the default DAV config file (NPCs at inns or dwellings while not in combat), apply this preset:
  
Spoiler![](https://i.imgur.com/NsAKerf.png)
  
P.S.: This preset contains the same conditions as the DAV config file.
  
  
**FormLists**:
  
Some FormLists present in the mod that you can add or remove stuff.
  
  
**HT\_SafeLocations**:
  
A FormList that you can add keywords related to safe locations. When the Safe location option is enabled, and you enter a location that contains a keyword from this list, the characters will unequip their headgear.
  
  
**HT\_UnsafeLocations**:
  
A FormList that you can add keywords related to unsafe locations. When the Safe location option is enabled, and you enter a location that contains a keyword from this list, the characters will equip their headgear.
  
  
**HT\_DustyWeather**:
  
A FormList that you can add weathers related to the Dusty weathers option in the MCM. When that option is enabled, and the current weather is present in this list, the characters will equip their headgear.
  
  
**HT\_FollowerIgnoreList**:
  
A FormList that you can add the base record of the followers or NPCs you don't want to be managed by the mod. P.S.: Serana is ignored by default in this FormList.
  
  
To edit the FormLists above, I recommend you to use [FormList Manipulator - FLM](https://www.nexusmods.com/skyrimspecialedition/mods/74037).There's a pre-configured file included with the mod: Helmet Toggle\_FLM.ini.
  
  
**Spells**:
  
Some spells that are added to the player or NPCs that you can tweak using CK or xEdit.
  
  
**HT\_CooldownSpell**:
  
The cooldown option in the MCM adds a spell to the player, when an animation plays, with a duration of 2 seconds. While the spell is active, the animations won't play again. Change the duration of the spell if you want shorter or longer cooldowns.
  
  
**HT\_VampireSpell**:
  
The Vampire option in the MCM adds a spell to the player that tracks whether the headgear should be displayed or not.
  
The current conditions for the spell are:
  
Player is a Vampire AND;
  
Is not in interiors AND;
  
Time of day equal or higher than 7:00 AND;
  
Time of day equal or less than 19:00.
  
  
**HT\_ColdRegionSpell**:
  
The Cold region option in the MCM adds a spell to the player that tracks whether the headgear should be displayed or not.
  
The current conditions for the spell are:
  
Player is not in interiors AND;
  
Is In Region = WeatherSnow OR.       
  
 WeatherCoast OR;
  
WeatherTundraMarsh OR;
  
WeatherDLC2SolstheimMtns OR;
  
WeatherDLC2SolstheimSnow OR;
  
WeatherDLC2SolstheimSnowHeavy OR;
  
DLC01VampCastleStorm OR;
  
DLC01WeatherCanyon OR;
  
DLC01WeatherIce OR;
  
DLC1FalmerValleyBorder OR;
  
WeatherSkuldafn OR;
  
WeatherHighHrothgar OR;
  
WeatherReach.
  
  
**HT\_NPCSpellMonitor**:
  
A spell that you can distribute to NPCs in the game. The mod will hide or display the headgear and play the animations on the NPCs with this spell, according to the options selected in the MCM (excluding the Hotkey option).
  
  
**HT\_FollowerSpellMonitor**:
  
A spell that can be distributed to all followers in the game that use the vanilla follower system. The mod will hide or display the headgear and play the animations on the NPCs with this spell, according to the options selected in the MCM (including the Hotkey option).
  
  
**HT\_CustomFollowerSpellMonitor**:
  
A spell that you can distribute to followers in the game that don't use the vanilla follower system. The mod will hide or display the headgear and play the animations on the NPCs with this spell, according to the options selected in the MCM (including the Hotkey option).
  
  
To add the spells above to NPCs/Followers, I recommend you to use  [Spell Perk Item Distributor (SPID)](https://www.nexusmods.com/skyrimspecialedition/mods/36869).There's a pre-configured file included with the mod: Helmet Toggle\_DISTR.ini.
  
  
**Keywords**:
  
Some Keywords used by the mod that you can add to items/locations/NPCs.
  
  
Headgears with "ArmorHelmet" are considered as a helmet.
  
Headgears with "HT\_ArmorVisor" are considered as raised visor helmet.
  
Headgears with "HT\_ArmorHood" or "ClothingBody"(hood bundled in an outfit) are considered as a hood.
  
Headgears with "HT\_ArmorMask" are considered as a mask.
  
Headgears with "HT\_ArmorFaceMask" are considered as a face mask.
  
Headgears with "ClothingHead" are considered as a hat.
  
Headgears with "HT\_IgnoreHeadgear" will be ignored by the mod.
  
Headgears with "HT\_DontManageThisItem" won't be managed by the mod; The mod won't hide or show any headgear if a Follower/NPC is wearing an apparel with this keyword.
  
  
Headgears with "HT\_ArmorHelmetAlt" will play an alternative animation (the same as the "Hat" animation). Distribute this keyword to helmets/circlets that doesn't fit any of the other animations or are not suitable to be placed at the hips.
  
  
Locations with "HT\_EquipHeadgearHere" are considered as unsafe locations by the mod. To be used with the Safe location option.
  
Locations with "HT\_UnequipHeadgearHere" are considered as safe locations by the mod. To be used with the Safe location option.
  
  
NPCs with "HT\_ApplyWorkaround" will use the "baldess workaround" feature. You can apply this keyword to individual NPCs that uses wigs instead of hairs, so you don't have to enable the workaround for all the NPCs in the game.
  
  
To add keywords above to records, I recommend you to use [Keyword Item Distributor (KID)](https://www.nexusmods.com/skyrimspecialedition/mods/55728).There's a pre-configured file included with the mod: Helmet Toggle\_KID.ini.
  
  
**DAV config file**:
  
The file located at SKSE\Plugins\DynamicArmorVariants\Helmet Toggle 2.json contains the necessary configs for DAR to hide or show the helmets/hoods.
  
  
Variants with "Player" on their names are exclusive to the player character. You shouldn't need to change these.
  
  
"DAV\_HiddenHelmet" and "LoweredHoods" are variants for the NPCs. They have basically the same config as the originals, only difference is, that they'll ignore the player and NPCs from the Manakin Race. You are free to change these variants if you wish to.
  
  
There's also some variants for the baldness workaround.
  
  
**[font=Georgia]

CREDITS AND THANKS

[/font]**Special thanks to [TheCyclist](https://www.nexusmods.com/skyrimspecialedition/users/103085918), who allowed me to use the animations from [Immersive Equipping Animations](https://www.nexusmods.com/skyrimspecialedition/mods/77187).
  
By the way, both mods work fine together, there's even an optional file included to only play the equip/unequip animation if the helmet or hood is currently visible.[/size]